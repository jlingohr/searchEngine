http://www.cs.dartmouth.edu/~campbell/cs50/crawlerdesign.html
Depth: 2
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="crawlerdesign.tex"> 
<meta name="date" content="2012-04-16 00:21:00"> 
<link rel="stylesheet" type="text/css" href="crawlerdesign.css"> 
</head><body 
>
<h1 class="likepartHead"><a 
 id="x1-1000"></a>CS 50 Software Design and Implementation</h1>
<h1 class="likepartHead"><a 
 id="x1-2000"></a>Lecture 12</h1>
<h1 class="likepartHead"><a 
 id="x1-3000"></a>TinySearch Engine: Crawler Design</h1>
<!--l. 21--><p class="noindent" >In the this lecture, we will discuss the detailed design of the crawler. Two specifications are discussed: (i)
the <span 
class="cmti-10">Design Spec</span>, which of a language independent specification of the crawler, and (ii), the <span 
class="cmti-10">Implementation</span>
<span 
class="cmti-10">Spec</span>, which describes the prototype (APIs) and data structures representing the abstract data type for the
crawler.
<!--l. 23--><p class="noindent" >In the last lecture we discuss the detailed <a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/designandcrawler.html" >requirements </a>of the Crawler. We identified three important
Specs as part of our software design methodology (discussed in the same lecture); there are: Requirements
Spec, Design Spec, and Implementation Spec. In today&#8217;s lecture we will translate the Requirement Spec
into the Design Spec. Following that we will get into the implementation of the Crawler by translating the
high-level and language/OS/HW independent Design Spec to the Implementation Spec which can (in our
case) be compiled by gcc. Also, as part of Lab4 we will begin the notion of testing our code through
writing a bash script that will automatically test the Crawler program as a single sub-system (at
unit).
<!--l. 26--><p class="noindent" >We will talk more about other important parts of the design methodology discussed in Lecture
11 such as version control (the cvs tool), automatic compilation and management of code
with multiple files (the make tool) and debugging our code the (gdb tools) in subsequent
lectures. We have reached a point in the course where we are writing complex (multiple file)
programs: make and gdb tools will become our friends; more on make and gdb in the next
lecture.
<!--l. 28--><p class="noindent" >Toward the end of the lecture we will discuss the code we have given you to implement the Crawler. These
include crawler.h which captures much of the Implementation Spec and crawler.c which includes material
developed as part of the Design Spec (e.g., pseudo code, IO).
<h3 class="likesectionHead"><a 
 id="x1-4000"></a>Goals</h3>
<!--l. 32--><p class="noindent" >We plan to learn the following from today&#8217;s lecture:
     <ul class="itemize1">
     <li class="itemize">How to write Design Spec from the requirements
                                                                                  
                                                                                  
     </li>
     <li class="itemize">How to write the Implementation Spec
     </li>
     <li class="itemize">Discuss the Crawler&#8217;s abstract data types; that is its data structures and operations (prototype
     functions)
     </li>
     <li class="itemize">Discuss the code we give your for Lab4 including the translation of the Design Spec and
     Implementation Spec into crawler. c and crawler.h</li></ul>
<!--l. 41--><p class="noindent" >
<h3 class="likesectionHead"><a 
 id="x1-5000"></a>Crawler Design Spec</h3>
<!--l. 43--><p class="noindent" >So let&#8217;s get started. Take a look at the Requirement Spec in the last lecture and then follow their
translation into the top level design.
<div 
class="colorbox" id="colorbox1"><div class="BVerbatimInput"><br /><span 
class="cmtt-10">***Crawler</span><span 
class="cmtt-10">&#x00A0;Design</span><span 
class="cmtt-10">&#x00A0;Spec***</span><br /><span 
class="cmtt-10">-------------------------</span><br /><br /><span 
class="cmtt-10">In</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;following</span><span 
class="cmtt-10">&#x00A0;Design</span><span 
class="cmtt-10">&#x00A0;Module</span><span 
class="cmtt-10">&#x00A0;we</span><span 
class="cmtt-10">&#x00A0;describe</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;input,</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;flow,</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;output</span><span 
class="cmtt-10">&#x00A0;specification</span><br /><span 
class="cmtt-10">for</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;crawler</span><span 
class="cmtt-10">&#x00A0;module.</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;pseudo</span><span 
class="cmtt-10">&#x00A0;code</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;crawler</span><span 
class="cmtt-10">&#x00A0;module</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;also</span><span 
class="cmtt-10">&#x00A0;given.</span><br /><br /><span 
class="cmtt-10">The</span><span 
class="cmtt-10">&#x00A0;Design</span><span 
class="cmtt-10">&#x00A0;Spec</span><span 
class="cmtt-10">&#x00A0;includes:</span><br /><br /><span 
class="cmtt-10">(1)</span><span 
class="cmtt-10">&#x00A0;Input:</span><span 
class="cmtt-10">&#x00A0;Any</span><span 
class="cmtt-10">&#x00A0;inputs</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;module</span><br /><span 
class="cmtt-10">(2)</span><span 
class="cmtt-10">&#x00A0;Output:</span><span 
class="cmtt-10">&#x00A0;An</span><span 
class="cmtt-10">&#x00A0;outputs</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;module</span><br /><span 
class="cmtt-10">(3)</span><span 
class="cmtt-10">&#x00A0;Data</span><span 
class="cmtt-10">&#x00A0;Flow:</span><span 
class="cmtt-10">&#x00A0;Any</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;flow</span><span 
class="cmtt-10">&#x00A0;through</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;module</span><br /><span 
class="cmtt-10">(4)</span><span 
class="cmtt-10">&#x00A0;Data</span><span 
class="cmtt-10">&#x00A0;Structures:</span><span 
class="cmtt-10">&#x00A0;Major</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structures</span><span 
class="cmtt-10">&#x00A0;used</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;module</span><br /><span 
class="cmtt-10">(5)</span><span 
class="cmtt-10">&#x00A0;Pseudo</span><span 
class="cmtt-10">&#x00A0;Code:</span><span 
class="cmtt-10">&#x00A0;Pseudo</span><span 
class="cmtt-10">&#x00A0;code</span><span 
class="cmtt-10">&#x00A0;description</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;module.</span><br /><br /></div></div>
<!--l. 68--><p class="noindent" >Now, let&#8217;s look at how we define the inputs, outputs and the major data flow through the
module.
<div 
class="colorbox" id="colorbox2"><div class="BVerbatimInput"><br /><span 
class="cmtt-10">(1)</span><span 
class="cmtt-10">&#x00A0;*Input*</span><br /><span 
class="cmtt-10">-----------</span><br /><br /><span 
class="cmtt-10">Command</span><span 
class="cmtt-10">&#x00A0;Input</span><br /><br /><span 
class="cmtt-10">./crawler</span><span 
class="cmtt-10">&#x00A0;[SEED</span><span 
class="cmtt-10">&#x00A0;URL]</span><span 
class="cmtt-10">&#x00A0;[TARGET</span><span 
class="cmtt-10">&#x00A0;DIRECTORY</span><span 
class="cmtt-10">&#x00A0;WHERE</span><span 
class="cmtt-10">&#x00A0;TO</span><span 
class="cmtt-10">&#x00A0;PUT</span><span 
class="cmtt-10">&#x00A0;THE</span><span 
class="cmtt-10">&#x00A0;DATA]</span><span 
class="cmtt-10">&#x00A0;[MAX</span><span 
class="cmtt-10">&#x00A0;CRAWLING</span><span 
class="cmtt-10">&#x00A0;DEPTH]</span><br /><br /><span 
class="cmtt-10">Example</span><span 
class="cmtt-10">&#x00A0;command</span><span 
class="cmtt-10">&#x00A0;input</span><br /><br /><span 
class="cmtt-10">crawler</span><span 
class="cmtt-10">&#x00A0;www.cs.dartmouth.edu</span><span 
class="cmtt-10">&#x00A0;./data/</span><span 
class="cmtt-10">&#x00A0;2</span><br /><br /><span 
class="cmtt-10">[SEED</span><span 
class="cmtt-10">&#x00A0;URL]</span><span 
class="cmtt-10">&#x00A0;www.cs.dartmouth.edu</span><br /><span 
class="cmtt-10">Requirement:</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;must</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;valid.</span><br /><span 
class="cmtt-10">Usage:</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;crawler</span><span 
class="cmtt-10">&#x00A0;needs</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;inform</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;user</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;found</span><br /><br /><span 
class="cmtt-10">[TARGET</span><span 
class="cmtt-10">&#x00A0;DIRECTORY]</span><span 
class="cmtt-10">&#x00A0;./data/</span><br /><span 
class="cmtt-10">Requirement:</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;directory</span><span 
class="cmtt-10">&#x00A0;must</span><span 
class="cmtt-10">&#x00A0;exist</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;already</span><span 
class="cmtt-10">&#x00A0;created</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;user.</span><br /><span 
class="cmtt-10">Usage:</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;crawler</span><span 
class="cmtt-10">&#x00A0;needs</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;inform</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;user</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;directory</span><span 
class="cmtt-10">&#x00A0;can</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;found</span><br /><br /><span 
class="cmtt-10">[MAX</span><span 
class="cmtt-10">&#x00A0;CRAWLING</span><span 
class="cmtt-10">&#x00A0;DEPTH]</span><span 
class="cmtt-10">&#x00A0;2</span><br /><span 
class="cmtt-10">Requirement:</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;crawl</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;cannot</span><span 
class="cmtt-10">&#x00A0;exceed</span><span 
class="cmtt-10">&#x00A0;4</span><br /><span 
class="cmtt-10">Usage:</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;crawler</span><span 
class="cmtt-10">&#x00A0;needs</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;inform</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;user</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;user</span><span 
class="cmtt-10">&#x00A0;exceeds</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;maximum</span><span 
class="cmtt-10">&#x00A0;depth</span><br /><br /><span 
class="cmtt-10">(2)</span><span 
class="cmtt-10">&#x00A0;*Output*</span><br /><span 
class="cmtt-10">------------</span><br /><span 
class="cmtt-10">For</span><span 
class="cmtt-10">&#x00A0;each</span><span 
class="cmtt-10">&#x00A0;webpage</span><span 
class="cmtt-10">&#x00A0;crawled</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;crawler</span><span 
class="cmtt-10">&#x00A0;program</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;create</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><br /><span 
class="cmtt-10">[TARGET</span><span 
class="cmtt-10">&#x00A0;DIRECTORY].</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;name</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;start</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;1</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;[SEED</span><span 
class="cmtt-10">&#x00A0;URL]</span><br /><span 
class="cmtt-10">and</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;incremented</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;each</span><span 
class="cmtt-10">&#x00A0;subsequent</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;webpage</span><span 
class="cmtt-10">&#x00A0;crawled.</span><br /><br /><span 
class="cmtt-10">Each</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;(e.g.,</span><span 
class="cmtt-10">&#x00A0;10)</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;include</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;associated</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;saved</span><span 
class="cmtt-10">&#x00A0;webpage</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;the</span><br /><span 
class="cmtt-10">depth</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;search</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;file.</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;on</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;first</span><span 
class="cmtt-10">&#x00A0;line</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;file</span><br /><span 
class="cmtt-10">and</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;on</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;second</span><span 
class="cmtt-10">&#x00A0;line.</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;webpage</span><br /><span 
class="cmtt-10">will</span><span 
class="cmtt-10">&#x00A0;start</span><span 
class="cmtt-10">&#x00A0;on</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;third</span><span 
class="cmtt-10">&#x00A0;line.</span><br /><br /><span 
class="cmtt-10">(3)</span><span 
class="cmtt-10">&#x00A0;*Data</span><span 
class="cmtt-10">&#x00A0;Flow*</span><br /><span 
class="cmtt-10">---------------</span><br /><span 
class="cmtt-10">HTML</span><span 
class="cmtt-10">&#x00A0;webpages</span><span 
class="cmtt-10">&#x00A0;enter</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;module</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;stored</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;TARGET</span><span 
class="cmtt-10">&#x00A0;DIR</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;temp</span><span 
class="cmtt-10">&#x00A0;file.</span><br /><span 
class="cmtt-10">The</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;read</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;(char</span><span 
class="cmtt-10">&#x00A0;*p)</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;parsed</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;(looking</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;href)</span><br /><span 
class="cmtt-10">producing</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;page.</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;stored</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;URLNODE</span><span 
class="cmtt-10">&#x00A0;data</span><br /><span 
class="cmtt-10">structure</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;linked</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;double</span><span 
class="cmtt-10">&#x00A0;linked</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;they</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;unique.</span><br /><span 
class="cmtt-10">The</span><span 
class="cmtt-10">&#x00A0;temp</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;stored</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;TARGET</span><span 
class="cmtt-10">&#x00A0;DIR</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;filename</span><span 
class="cmtt-10">&#x00A0;between</span><span 
class="cmtt-10">&#x00A0;1..N</span><span 
class="cmtt-10">&#x00A0;(where</span><span 
class="cmtt-10">&#x00A0;N</span><span 
class="cmtt-10">&#x00A0;is</span><br /><span 
class="cmtt-10">the</span><span 
class="cmtt-10">&#x00A0;number</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;unique</span><span 
class="cmtt-10">&#x00A0;webpages</span><span 
class="cmtt-10">&#x00A0;downloaded)</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;first</span><span 
class="cmtt-10">&#x00A0;line</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;being</span><span 
class="cmtt-10">&#x00A0;the</span><br /><span 
class="cmtt-10">URL,</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;second</span><span 
class="cmtt-10">&#x00A0;being</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;depth,</span><span 
class="cmtt-10">&#x00A0;followed</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;contents</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;TEMP.</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;next</span><span 
class="cmtt-10">&#x00A0;page</span><br /><span 
class="cmtt-10">is</span><span 
class="cmtt-10">&#x00A0;then</span><span 
class="cmtt-10">&#x00A0;retrieved</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;process</span><span 
class="cmtt-10">&#x00A0;repeats.</span><br /><br /></div></div>
<!--l. 125--><p class="noindent" >Next, we define the major data structures. Here we are not interested in the details of the implementation
of the data structures rather we define the major data structures, variables and data in a implementation
independent manner. Later in the Implementation Spec we will write he C for the major data structures,
variables and data.
<div 
class="colorbox" id="colorbox3"><div class="BVerbatimInput"><br /><span 
class="cmtt-10">(4)</span><span 
class="cmtt-10">&#x00A0;*Data</span><span 
class="cmtt-10">&#x00A0;Structures*</span><br /><span 
class="cmtt-10">---------------------</span><br /><br /><span 
class="cmtt-10">current_depth</span><span 
class="cmtt-10">&#x00A0;-</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;page.</span><br /><br /><span 
class="cmtt-10">max_depth</span><span 
class="cmtt-10">&#x00A0;-</span><span 
class="cmtt-10">&#x00A0;maximum</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;crawl.</span><br /><br /><span 
class="cmtt-10">page</span><span 
class="cmtt-10">&#x00A0;-</span><span 
class="cmtt-10">&#x00A0;pointer</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;page</span><span 
class="cmtt-10">&#x00A0;(the</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;webpage)</span><br /><br /><span 
class="cmtt-10">URLsLists</span><span 
class="cmtt-10">&#x00A0;-</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;page</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;name</span><span 
class="cmtt-10">&#x00A0;only</span><br /><span 
class="cmtt-10">(e.g.,</span><span 
class="cmtt-10">&#x00A0;www.cs.dartmouth.edu/~campbell)</span><br /><br /><span 
class="cmtt-10">URLNODE</span><span 
class="cmtt-10">&#x00A0;structure</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;name,</span><span 
class="cmtt-10">&#x00A0;its</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;visited</span><span 
class="cmtt-10">&#x00A0;flag</span><span 
class="cmtt-10">&#x00A0;(0</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;visited</span><br /><span 
class="cmtt-10">1</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;visited)</span><br /><br /><span 
class="cmtt-10">URLToBeVisited</span><span 
class="cmtt-10">&#x00A0;-</span><span 
class="cmtt-10">&#x00A0;next</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;visited.</span><br /><br /><span 
class="cmtt-10">Clearly,</span><span 
class="cmtt-10">&#x00A0;we</span><span 
class="cmtt-10">&#x00A0;need</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structure</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;allow</span><span 
class="cmtt-10">&#x00A0;us</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;store</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;are</span><br /><span 
class="cmtt-10">returned</span><span 
class="cmtt-10">&#x00A0;iff</span><span 
class="cmtt-10">&#x00A0;they</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;unique.</span><span 
class="cmtt-10">&#x00A0;At</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;stage</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;definition</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;double</span><span 
class="cmtt-10">&#x00A0;linked</span><br /><span 
class="cmtt-10">list</span><span 
class="cmtt-10">&#x00A0;would</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;sufficient</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;manage</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;storing</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;searching</span><span 
class="cmtt-10">&#x00A0;(to</span><span 
class="cmtt-10">&#x00A0;see</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;new</span><span 
class="cmtt-10">&#x00A0;URL</span><br /><span 
class="cmtt-10">is</span><span 
class="cmtt-10">&#x00A0;already</span><span 
class="cmtt-10">&#x00A0;on</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;list.</span><span 
class="cmtt-10">&#x00A0;If</span><span 
class="cmtt-10">&#x00A0;so</span><span 
class="cmtt-10">&#x00A0;it</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;added).</span><span 
class="cmtt-10">&#x00A0;We</span><span 
class="cmtt-10">&#x00A0;define</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;double</span><span 
class="cmtt-10">&#x00A0;link</span><span 
class="cmtt-10">&#x00A0;list</span><br /><span 
class="cmtt-10">with</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;start</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;end.</span><br /><br /><span 
class="cmtt-10">Double</span><span 
class="cmtt-10">&#x00A0;Link</span><span 
class="cmtt-10">&#x00A0;NODE</span><span 
class="cmtt-10">&#x00A0;List</span><br /><span 
class="cmtt-10">URL</span><span 
class="cmtt-10">&#x00A0;*start</span><br /><span 
class="cmtt-10">URL</span><span 
class="cmtt-10">&#x00A0;*end</span><br /><br /><span 
class="cmtt-10">For</span><span 
class="cmtt-10">&#x00A0;now</span><span 
class="cmtt-10">&#x00A0;it</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;fine</span><span 
class="cmtt-10">&#x00A0;just</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;understand</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;some</span><br /><span 
class="cmtt-10">data</span><span 
class="cmtt-10">&#x00A0;structure</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;information</span><span 
class="cmtt-10">&#x00A0;about</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;(such</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;URLNODE</span><span 
class="cmtt-10">&#x00A0;information).</span><br /><span 
class="cmtt-10">In</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;Implementation</span><span 
class="cmtt-10">&#x00A0;Spec</span><span 
class="cmtt-10">&#x00A0;we</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;flush</span><span 
class="cmtt-10">&#x00A0;out</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;detailed</span><span 
class="cmtt-10">&#x00A0;C</span><span 
class="cmtt-10">&#x00A0;structures</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;all</span><br /><span 
class="cmtt-10">of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;above.</span><span 
class="cmtt-10">&#x00A0;But</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;now</span><span 
class="cmtt-10">&#x00A0;abstraction</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;fine.</span><span 
class="cmtt-10">&#x00A0;Details</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;come</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><br /><span 
class="cmtt-10">Implementation</span><span 
class="cmtt-10">&#x00A0;Spec.</span><br /><br /></div></div>
<!--l. 169--><p class="noindent" >Now we move to formulating the code flow in terms of pseudo code - a plain non techie English like
language which again is independent of the implementation language. The idea is that a programmer
could take this DESIGN SPEC and code it in <span 
class="cmti-10">any language</span>. The idea is that the <span 
class="cmti-10">complete Design Spec is</span>
<span 
class="cmti-10">defined in terms that are independent of any computer language</span>. Therefore, you could code this is C,
assembler, C++, JAVA. Granted that this does not call out any specific Object Oriented design
methodology tools but the language and OS independent definition of the input, outputs, data flow, data
structures, and pseudo code allow the programer to map this (conjecture) to any language (what do you
think?).
<!--l. 171--><p class="noindent" >Next, the algorithmic flow of the program is presented as <span 
class="cmbx-10">pseudo code</span>:
<div 
class="colorbox" id="colorbox4"><div class="BVerbatimInput"><br /><br /><span 
class="cmtt-10">(5)</span><span 
class="cmtt-10">&#x00A0;*Crawler*</span><span 
class="cmtt-10">&#x00A0;Pseudocode</span><br /><span 
class="cmtt-10">------------------------</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Input</span><span 
class="cmtt-10">&#x00A0;command</span><span 
class="cmtt-10">&#x00A0;processing</span><span 
class="cmtt-10">&#x00A0;logic</span><br /><br /><span 
class="cmtt-10">(1)</span><span 
class="cmtt-10">&#x00A0;Command</span><span 
class="cmtt-10">&#x00A0;line</span><span 
class="cmtt-10">&#x00A0;processing</span><span 
class="cmtt-10">&#x00A0;on</span><span 
class="cmtt-10">&#x00A0;arguments</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Inform</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;user</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;arguments</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;present</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;IF</span><span 
class="cmtt-10">&#x00A0;target_directory</span><span 
class="cmtt-10">&#x00A0;does</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;exist</span><span 
class="cmtt-10">&#x00A0;OR</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;exceeds</span><span 
class="cmtt-10">&#x00A0;max_depth</span><span 
class="cmtt-10">&#x00A0;THEN</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Inform</span><span 
class="cmtt-10">&#x00A0;user</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;usage</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;exit</span><span 
class="cmtt-10">&#x00A0;failed</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Initialization</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;any</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structures</span><br /><br /><span 
class="cmtt-10">(2)</span><span 
class="cmtt-10">&#x00A0;*initLists*</span><span 
class="cmtt-10">&#x00A0;Initialize</span><span 
class="cmtt-10">&#x00A0;any</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structure</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;variables</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Bootstrap</span><span 
class="cmtt-10">&#x00A0;part</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;Crawler</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;first</span><span 
class="cmtt-10">&#x00A0;time</span><span 
class="cmtt-10">&#x00A0;through</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;SEED_URL</span><br /><br /><span 
class="cmtt-10">(3)</span><span 
class="cmtt-10">&#x00A0;page</span><span 
class="cmtt-10">&#x00A0;=</span><span 
class="cmtt-10">&#x00A0;*getPage(seedURL,</span><span 
class="cmtt-10">&#x00A0;current_depth,</span><span 
class="cmtt-10">&#x00A0;target_directory)*</span><span 
class="cmtt-10">&#x00A0;Get</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;return</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;page,</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;also</span><span 
class="cmtt-10">&#x00A0;save</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;(1..N)</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;correct</span><span 
class="cmtt-10">&#x00A0;format</span><span 
class="cmtt-10">&#x00A0;(URL,</span><span 
class="cmtt-10">&#x00A0;depth,</span><span 
class="cmtt-10">&#x00A0;HTML)</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;IF</span><span 
class="cmtt-10">&#x00A0;page</span><span 
class="cmtt-10">&#x00A0;==</span><span 
class="cmtt-10">&#x00A0;NULL</span><span 
class="cmtt-10">&#x00A0;THEN</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*log(PANIC:</span><span 
class="cmtt-10">&#x00A0;Cannot</span><span 
class="cmtt-10">&#x00A0;crawl</span><span 
class="cmtt-10">&#x00A0;SEED_URL)*</span><span 
class="cmtt-10">&#x00A0;Inform</span><span 
class="cmtt-10">&#x00A0;user</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;exit</span><span 
class="cmtt-10">&#x00A0;failed</span><br /><span 
class="cmtt-10">(4)</span><span 
class="cmtt-10">&#x00A0;URLsLists</span><span 
class="cmtt-10">&#x00A0;=</span><span 
class="cmtt-10">&#x00A0;*extractURLs(page,</span><span 
class="cmtt-10">&#x00A0;SEED_URL)*</span><span 
class="cmtt-10">&#x00A0;Extract</span><span 
class="cmtt-10">&#x00A0;all</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;SEED_URL</span><span 
class="cmtt-10">&#x00A0;page.</span><br /><br /><span 
class="cmtt-10">(5)</span><span 
class="cmtt-10">&#x00A0;*free(page)*</span><span 
class="cmtt-10">&#x00A0;Done</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;page</span><span 
class="cmtt-10">&#x00A0;so</span><span 
class="cmtt-10">&#x00A0;release</span><span 
class="cmtt-10">&#x00A0;it</span><br /><br /><span 
class="cmtt-10">(6)</span><span 
class="cmtt-10">&#x00A0;*updateListLinkToBeVisited(URLsLists,</span><span 
class="cmtt-10">&#x00A0;current_depth</span><span 
class="cmtt-10">&#x00A0;+</span><span 
class="cmtt-10">&#x00A0;1)*</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;For</span><span 
class="cmtt-10">&#x00A0;all</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URL</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URLsList</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;do</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;exist</span><span 
class="cmtt-10">&#x00A0;already</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;dictionary</span><span 
class="cmtt-10">&#x00A0;then</span><span 
class="cmtt-10">&#x00A0;add</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;DNODE/URLNODE</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;pair</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;list.</span><br /><br /><span 
class="cmtt-10">(7)</span><span 
class="cmtt-10">&#x00A0;*setURLasVisited(SEED_URL)*</span><span 
class="cmtt-10">&#x00A0;Mark</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;visited</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URLNODE.</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Main</span><span 
class="cmtt-10">&#x00A0;processing</span><span 
class="cmtt-10">&#x00A0;loop</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;crawler.</span><span 
class="cmtt-10">&#x00A0;While</span><span 
class="cmtt-10">&#x00A0;there</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;visit</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;not</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;exceeded</span><span 
class="cmtt-10">&#x00A0;keep</span><span 
class="cmtt-10">&#x00A0;processing</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URLs.</span><br /><br /><span 
class="cmtt-10">(8)</span><span 
class="cmtt-10">&#x00A0;WHILE</span><span 
class="cmtt-10">&#x00A0;(</span><span 
class="cmtt-10">&#x00A0;URLToBeVisited</span><span 
class="cmtt-10">&#x00A0;=</span><span 
class="cmtt-10">&#x00A0;*getAddressFromTheLinksToBeVisited(current_depth)*</span><span 
class="cmtt-10">&#x00A0;)</span><span 
class="cmtt-10">&#x00A0;DO</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;Get</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;next</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;visited</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;(first</span><span 
class="cmtt-10">&#x00A0;one</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;visited</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;start)</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;IF</span><span 
class="cmtt-10">&#x00A0;current_depth</span><span 
class="cmtt-10">&#x00A0;&#x003E;</span><span 
class="cmtt-10">&#x00A0;max_depth</span><span 
class="cmtt-10">&#x00A0;THEN</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;For</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;over</span><span 
class="cmtt-10">&#x00A0;max_depth,</span><span 
class="cmtt-10">&#x00A0;we</span><span 
class="cmtt-10">&#x00A0;just</span><span 
class="cmtt-10">&#x00A0;set</span><span 
class="cmtt-10">&#x00A0;them</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;visited</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;continue</span><span 
class="cmtt-10">&#x00A0;on</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;setURLasVisited(URLToBeVisited)</span><span 
class="cmtt-10">&#x00A0;Mark</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;visited</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URLNODE.</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;continue;</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;page</span><span 
class="cmtt-10">&#x00A0;=</span><span 
class="cmtt-10">&#x00A0;*getPage(URLToBeVisited,</span><span 
class="cmtt-10">&#x00A0;current_depth,</span><span 
class="cmtt-10">&#x00A0;target_directory)*</span><span 
class="cmtt-10">&#x00A0;Get</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;a</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;return</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;page,</span><span 
class="cmtt-10">&#x00A0;also</span><span 
class="cmtt-10">&#x00A0;save</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;(1..N)</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;correct</span><span 
class="cmtt-10">&#x00A0;format</span><span 
class="cmtt-10">&#x00A0;(URL,</span><span 
class="cmtt-10">&#x00A0;depth,</span><span 
class="cmtt-10">&#x00A0;HTML)</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;IF</span><span 
class="cmtt-10">&#x00A0;page</span><span 
class="cmtt-10">&#x00A0;==</span><span 
class="cmtt-10">&#x00A0;NULL</span><span 
class="cmtt-10">&#x00A0;THEN</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*log(PANIC:</span><span 
class="cmtt-10">&#x00A0;Cannot</span><span 
class="cmtt-10">&#x00A0;crawl</span><span 
class="cmtt-10">&#x00A0;URLToBeVisited)*</span><span 
class="cmtt-10">&#x00A0;Inform</span><span 
class="cmtt-10">&#x00A0;user</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;setURLasVisited(URLToBeVisited)</span><span 
class="cmtt-10">&#x00A0;Mark</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;bad</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;visited</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URLNODE.</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Continue;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;We</span><span 
class="cmtt-10">&#x00A0;don&#8217;t</span><span 
class="cmtt-10">&#x00A0;want</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;bad</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;stop</span><span 
class="cmtt-10">&#x00A0;us</span><span 
class="cmtt-10">&#x00A0;processing</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;remaining</span><span 
class="cmtt-10">&#x00A0;URLs.</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;URLsLists</span><span 
class="cmtt-10">&#x00A0;=</span><span 
class="cmtt-10">&#x00A0;*extractURLs(page,</span><span 
class="cmtt-10">&#x00A0;URLToBeVisited)*</span><span 
class="cmtt-10">&#x00A0;Extract</span><span 
class="cmtt-10">&#x00A0;all</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;page.</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*free(page)*</span><span 
class="cmtt-10">&#x00A0;Done</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;page</span><span 
class="cmtt-10">&#x00A0;so</span><span 
class="cmtt-10">&#x00A0;release</span><span 
class="cmtt-10">&#x00A0;it</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*updateListLinkToBeVisited(URLsLists,</span><span 
class="cmtt-10">&#x00A0;current_depth</span><span 
class="cmtt-10">&#x00A0;+</span><span 
class="cmtt-10">&#x00A0;1)*</span><span 
class="cmtt-10">&#x00A0;For</span><span 
class="cmtt-10">&#x00A0;all</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URL</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URLsList</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;do</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;exist</span><span 
class="cmtt-10">&#x00A0;already</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;dictionary</span><span 
class="cmtt-10">&#x00A0;then</span><span 
class="cmtt-10">&#x00A0;add</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;DNODE/URLNODE</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;pair</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;list.</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*setURLasVisited(URLToBeVisited)*</span><span 
class="cmtt-10">&#x00A0;Mark</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;visited</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URLNODE.</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;You</span><span 
class="cmtt-10">&#x00A0;must</span><span 
class="cmtt-10">&#x00A0;include</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;sleep</span><span 
class="cmtt-10">&#x00A0;delay</span><span 
class="cmtt-10">&#x00A0;before</span><span 
class="cmtt-10">&#x00A0;crawling</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;next</span><span 
class="cmtt-10">&#x00A0;page</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;See</span><span 
class="cmtt-10">&#x00A0;note</span><span 
class="cmtt-10">&#x00A0;below</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;reason.</span><br /><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*sleep(INTERVAL_PER_FETCH)*</span><span 
class="cmtt-10">&#x00A0;Sneak</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;server</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;sleeping.</span><span 
class="cmtt-10">&#x00A0;Use</span><span 
class="cmtt-10">&#x00A0;the</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;standard</span><span 
class="cmtt-10">&#x00A0;Linux</span><span 
class="cmtt-10">&#x00A0;system</span><span 
class="cmtt-10">&#x00A0;call</span><br /><br /><span 
class="cmtt-10">(9)</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*log(Nothing</span><span 
class="cmtt-10">&#x00A0;more</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;crawl)</span><br /><br /><span 
class="cmtt-10">(10)</span><span 
class="cmtt-10">&#x00A0;*cleanup*</span><span 
class="cmtt-10">&#x00A0;Clean</span><span 
class="cmtt-10">&#x00A0;up</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structures</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;make</span><span 
class="cmtt-10">&#x00A0;sure</span><span 
class="cmtt-10">&#x00A0;all</span><span 
class="cmtt-10">&#x00A0;files</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;closed,</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;resources</span><span 
class="cmtt-10">&#x00A0;deallocated.</span><br /><br /></div></div>
<!--l. 258--><p class="noindent" >Because webservers do not like crawlers (think about why) they will block your crawler based on its
address. This is a real problem. Why? Imagine your launch your spiffy TinySearch crawler to crawl the
New York Times webpage continuously and fast. The New York Times server will try and serve your
pages as fast as it can. Imagine 100s of crawlers launched against the server? Yes, it would
spend an increasing amount of time serving crawlers and not customers - hey people like the
                                                                                  
                                                                                  
lecturer.
<!--l. 260--><p class="noindent" >But, wait. What would the New York Times do if it detects you crawling to heavily from a domain
dartmouth.edu? It might block the domain, i.e., the complete dartmouth community! What would that
mean? Probably, Jim Wright wouldn&#8217;t be able to read his New York Times and I&#8217;m toast. So what should
we do? Well let&#8217;s try and not look like a crawler to the New York Times website. Let&#8217;s introduce
a delay. Just like spy - recall? - lets sleep for a period INTERVAL_PER_FETCH. Sneaky
hey
<!--l. 262--><p class="noindent" >
<h3 class="likesectionHead"><a 
 id="x1-6000"></a>Implementation Spec</h3>
<!--l. 264--><p class="noindent" >Given the Design Spec above we go the next level of detail with the Implementation Spec. The
Implementation Spec should be language specific. It should compile without errors or warnings. It should
present the code to implement the abstract data type of the crawler - i.e., the detailed data structures and
the functions that operate on the data. The Implementation Spec is realized in the crawler.h file. In
addition, the crawler.c file includes aspects of the Design Spec such as the high-level pseudo
code for the module. Take a look at crawler.c and crawler.h linked into the end of this lecture
notes.
<div 
class="colorbox" id="colorbox5"><div class="BVerbatimInput"><br /><span 
class="cmtt-10">***Crawler</span><span 
class="cmtt-10">&#x00A0;Implementation</span><span 
class="cmtt-10">&#x00A0;Spec***</span><br /><span 
class="cmtt-10">---------------------------------</span><br /><br /><span 
class="cmtt-10">In</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;implementation</span><span 
class="cmtt-10">&#x00A0;specification</span><span 
class="cmtt-10">&#x00A0;we</span><span 
class="cmtt-10">&#x00A0;define</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;prototypes</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structures</span><br /><span 
class="cmtt-10">in</span><span 
class="cmtt-10">&#x00A0;details.</span><span 
class="cmtt-10">&#x00A0;It</span><span 
class="cmtt-10">&#x00A0;defines</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;abstract</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;types</span><span 
class="cmtt-10">&#x00A0;(ADT)</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;crawler</span><span 
class="cmtt-10">&#x00A0;design</span><span 
class="cmtt-10">&#x00A0;module.</span><br /><span 
class="cmtt-10">This</span><span 
class="cmtt-10">&#x00A0;specification</span><span 
class="cmtt-10">&#x00A0;should</span><span 
class="cmtt-10">&#x00A0;code</span><span 
class="cmtt-10">&#x00A0;should</span><span 
class="cmtt-10">&#x00A0;compile</span><span 
class="cmtt-10">&#x00A0;without</span><span 
class="cmtt-10">&#x00A0;errors</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;crawler.</span><br /><br /><span 
class="cmtt-10">The</span><span 
class="cmtt-10">&#x00A0;Implementation</span><span 
class="cmtt-10">&#x00A0;(crawler.h)</span><span 
class="cmtt-10">&#x00A0;includes:</span><br /><br /><span 
class="cmtt-10">(1)</span><span 
class="cmtt-10">&#x00A0;Prototype</span><span 
class="cmtt-10">&#x00A0;definitions:</span><span 
class="cmtt-10">&#x00A0;Any</span><span 
class="cmtt-10">&#x00A0;functions</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;called</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;main</span><span 
class="cmtt-10">&#x00A0;module.</span><br /><span 
class="cmtt-10">(2)</span><span 
class="cmtt-10">&#x00A0;Data</span><span 
class="cmtt-10">&#x00A0;structures:</span><span 
class="cmtt-10">&#x00A0;Complete</span><span 
class="cmtt-10">&#x00A0;specification</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;major</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structures</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;important</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;variables</span><br /><br /></div></div>
<!--l. 288--><p class="noindent" >Next, we define the detailed prototype specification.
<div 
class="colorbox" id="colorbox6"><div class="BVerbatimInput"><br /><span 
class="cmtt-10">//(1)</span><span 
class="cmtt-10">&#x00A0;*Prototype</span><span 
class="cmtt-10">&#x00A0;Definitions*</span><br /><br /><span 
class="cmtt-10">int</span><span 
class="cmtt-10">&#x00A0;initLists(void);</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FUNCTION:</span><span 
class="cmtt-10">&#x00A0;initLists.</span><span 
class="cmtt-10">&#x00A0;Initializes</span><span 
class="cmtt-10">&#x00A0;an</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structures</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;resources</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;GOOD:returns</span><span 
class="cmtt-10">&#x00A0;0</span><span 
class="cmtt-10">&#x00A0;if</span><span 
class="cmtt-10">&#x00A0;OK</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FAILURE:</span><span 
class="cmtt-10">&#x00A0;returns</span><span 
class="cmtt-10">&#x00A0;1</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;case</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;failure</span><br /><br /><span 
class="cmtt-10">char</span><span 
class="cmtt-10">&#x00A0;*getPage(char</span><span 
class="cmtt-10">&#x00A0;*url,</span><span 
class="cmtt-10">&#x00A0;int</span><span 
class="cmtt-10">&#x00A0;depth,</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;char</span><span 
class="cmtt-10">&#x00A0;*path);</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FUNCTION:</span><span 
class="cmtt-10">&#x00A0;Get</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;return</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;page,</span><span 
class="cmtt-10">&#x00A0;also</span><span 
class="cmtt-10">&#x00A0;save</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;file</span><span 
class="cmtt-10">&#x00A0;(1..N)</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;correct</span><span 
class="cmtt-10">&#x00A0;format</span><span 
class="cmtt-10">&#x00A0;(URL,</span><span 
class="cmtt-10">&#x00A0;depth,</span><span 
class="cmtt-10">&#x00A0;HTML)</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;GOOD:</span><span 
class="cmtt-10">&#x00A0;returns</span><span 
class="cmtt-10">&#x00A0;pointer</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;which</span><span 
class="cmtt-10">&#x00A0;represents</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;complete</span><span 
class="cmtt-10">&#x00A0;HMTL</span><span 
class="cmtt-10">&#x00A0;webpage.</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FAILURE:</span><span 
class="cmtt-10">&#x00A0;return</span><span 
class="cmtt-10">&#x00A0;NULL</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;case</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;failure</span><br /><br /><span 
class="cmtt-10">char</span><span 
class="cmtt-10">&#x00A0;**extractURLs(char</span><span 
class="cmtt-10">&#x00A0;*html_buffer,</span><span 
class="cmtt-10">&#x00A0;char</span><span 
class="cmtt-10">&#x00A0;*current);</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FUNCTION:</span><span 
class="cmtt-10">&#x00A0;extractURLs.</span><span 
class="cmtt-10">&#x00A0;Given</span><span 
class="cmtt-10">&#x00A0;pointer</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;ULR</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;GOOD:returns</span><span 
class="cmtt-10">&#x00A0;pointer</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;set</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;pointers</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;URLs</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FAILURE:</span><span 
class="cmtt-10">&#x00A0;returns</span><span 
class="cmtt-10">&#x00A0;NULL</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;case</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;failure</span><br /><br /><span 
class="cmtt-10">void</span><span 
class="cmtt-10">&#x00A0;updateListLinkToBeVisited(char</span><span 
class="cmtt-10">&#x00A0;**url_list,</span><span 
class="cmtt-10">&#x00A0;int</span><span 
class="cmtt-10">&#x00A0;depth);</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FUNCTION:</span><span 
class="cmtt-10">&#x00A0;updateListLinkToBeVisited.</span><span 
class="cmtt-10">&#x00A0;For</span><span 
class="cmtt-10">&#x00A0;all</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URL</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URLsList</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;do</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;exist</span><span 
class="cmtt-10">&#x00A0;alread</span><span 
class="cmtt-10">&#x00A0;then</span><span 
class="cmtt-10">&#x00A0;add</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;URLNODE</span><span 
class="cmtt-10">&#x00A0;(URL</span><span 
class="cmtt-10">&#x00A0;name,</span><span 
class="cmtt-10">&#x00A0;depth,</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;visited)</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;NODE</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;(start,</span><span 
class="cmtt-10">&#x00A0;end).</span><br /><br /><span 
class="cmtt-10">void</span><span 
class="cmtt-10">&#x00A0;setURLasVisited(char</span><span 
class="cmtt-10">&#x00A0;*url);</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FUNCTION:</span><span 
class="cmtt-10">&#x00A0;setURLasVisited.</span><span 
class="cmtt-10">&#x00A0;Given</span><span 
class="cmtt-10">&#x00A0;pointer</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;ULR</span><br /><br /><span 
class="cmtt-10">char</span><span 
class="cmtt-10">&#x00A0;*getAddressFromTheLinksToBeVisited(int</span><span 
class="cmtt-10">&#x00A0;*depth);</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FUNCTION:</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;getAddressFromTheLinksToBeVisited.</span><span 
class="cmtt-10">&#x00A0;Get</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;next</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;visit</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;the</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;stored</span><span 
class="cmtt-10">&#x00A0;already</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;GOOD:returns</span><span 
class="cmtt-10">&#x00A0;next</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;visited</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FAILURE:</span><span 
class="cmtt-10">&#x00A0;returns</span><span 
class="cmtt-10">&#x00A0;NULL</span><span 
class="cmtt-10">&#x00A0;string</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;case</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;failure</span><br /><br /><span 
class="cmtt-10">void</span><span 
class="cmtt-10">&#x00A0;cleanup(void);</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;FUNCTION:</span><span 
class="cmtt-10">&#x00A0;cleanup.</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;Clean</span><span 
class="cmtt-10">&#x00A0;up</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structures</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;make</span><span 
class="cmtt-10">&#x00A0;sure</span><span 
class="cmtt-10">&#x00A0;all</span><span 
class="cmtt-10">&#x00A0;files</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;closed,</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;resources</span><span 
class="cmtt-10">&#x00A0;deallocated</span><br /><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Standard</span><span 
class="cmtt-10">&#x00A0;Linux</span><span 
class="cmtt-10">&#x00A0;system</span><span 
class="cmtt-10">&#x00A0;calls</span><span 
class="cmtt-10">&#x00A0;used</span><br /><span 
class="cmtt-10">//</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;free(char</span><span 
class="cmtt-10">&#x00A0;*);</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;unsigned</span><span 
class="cmtt-10">&#x00A0;int</span><span 
class="cmtt-10">&#x00A0;sleep(unsigned</span><span 
class="cmtt-10">&#x00A0;int</span><span 
class="cmtt-10">&#x00A0;seconds);</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;void</span><span 
class="cmtt-10">&#x00A0;free(void</span><span 
class="cmtt-10">&#x00A0;*ptr);</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;void</span><span 
class="cmtt-10">&#x00A0;*malloc(size_t</span><span 
class="cmtt-10">&#x00A0;size);</span><br /><span 
class="cmtt-10">//</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Make</span><span 
class="cmtt-10">&#x00A0;sure</span><span 
class="cmtt-10">&#x00A0;you</span><span 
class="cmtt-10">&#x00A0;include</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;correct</span><span 
class="cmtt-10">&#x00A0;set</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;#include</span><span 
class="cmtt-10">&#x00A0;files</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;these</span><span 
class="cmtt-10">&#x00A0;sys</span><span 
class="cmtt-10">&#x00A0;calls</span><br /><span 
class="cmtt-10">//</span><br /><br /></div></div>
<!--l. 353--><p class="noindent" >Now, we define the a number of important constants for the program. These at first-sight might seem
arbitrary large. They are set for worst case scenarios.
<div 
class="colorbox" id="colorbox7"><div class="BVerbatimInput"><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;max</span><span 
class="cmtt-10">&#x00A0;length</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;each</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;path.</span><br /><br /><span 
class="cmtt-10">#define</span><span 
class="cmtt-10">&#x00A0;MAX_URL_LENGTH</span><span 
class="cmtt-10">&#x00A0;1000</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Sleep</span><span 
class="cmtt-10">&#x00A0;interval</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;crawler.</span><br /><br /><span 
class="cmtt-10">#define</span><span 
class="cmtt-10">&#x00A0;INTERVAL_PER_FETCH</span><span 
class="cmtt-10">&#x00A0;1</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;we</span><span 
class="cmtt-10">&#x00A0;crawled</span><span 
class="cmtt-10">&#x00A0;should</span><span 
class="cmtt-10">&#x00A0;starts</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;prefix.</span><br /><br /><span 
class="cmtt-10">#define</span><span 
class="cmtt-10">&#x00A0;URL_PREFIX</span><span 
class="cmtt-10">&#x00A0;"http://www.cs.dartmouth.edu"</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Set</span><span 
class="cmtt-10">&#x00A0;some</span><span 
class="cmtt-10">&#x00A0;magic</span><span 
class="cmtt-10">&#x00A0;numbers.</span><span 
class="cmtt-10">&#x00A0;These</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;large</span><span 
class="cmtt-10">&#x00A0;values.</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Unlikely</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;have</span><span 
class="cmtt-10">&#x00A0;more</span><span 
class="cmtt-10">&#x00A0;than</span><span 
class="cmtt-10">&#x00A0;an</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;longer</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;1000</span><span 
class="cmtt-10">&#x00A0;chars.</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;KEY</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;same</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;URL.</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;term</span><span 
class="cmtt-10">&#x00A0;KEY</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;just</span><span 
class="cmtt-10">&#x00A0;a</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;general</span><span 
class="cmtt-10">&#x00A0;Dictionary/hash</span><span 
class="cmtt-10">&#x00A0;function</span><span 
class="cmtt-10">&#x00A0;term</span><br /><br /><span 
class="cmtt-10">#define</span><span 
class="cmtt-10">&#x00A0;MAX_URL_LENGTH</span><span 
class="cmtt-10">&#x00A0;1000</span><br /><span 
class="cmtt-10">#define</span><span 
class="cmtt-10">&#x00A0;KEY_LENGTH</span><span 
class="cmtt-10">&#x00A0;1000</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Make</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;hash</span><span 
class="cmtt-10">&#x00A0;large</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;comparison</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;number</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;found</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;example</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;2</span><span 
class="cmtt-10">&#x00A0;on</span><span 
class="cmtt-10">&#x00A0;www.cs.dartmouth.edu</span><span 
class="cmtt-10">&#x00A0;approx.</span><span 
class="cmtt-10">&#x00A0;200.</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;This</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;minimize</span><span 
class="cmtt-10">&#x00A0;collisions</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;mostly</span><span 
class="cmtt-10">&#x00A0;likely</span><span 
class="cmtt-10">&#x00A0;slots</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;be</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;empty</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;have</span><span 
class="cmtt-10">&#x00A0;one</span><span 
class="cmtt-10">&#x00A0;or</span><span 
class="cmtt-10">&#x00A0;two</span><span 
class="cmtt-10">&#x00A0;DNODES.</span><span 
class="cmtt-10">&#x00A0;Access</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;O(1).</span><span 
class="cmtt-10">&#x00A0;Fast.</span><br /><br /><span 
class="cmtt-10">#define</span><span 
class="cmtt-10">&#x00A0;MAX_HASH_SLOT</span><span 
class="cmtt-10">&#x00A0;10000</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Unlikely</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;have</span><span 
class="cmtt-10">&#x00A0;more</span><span 
class="cmtt-10">&#x00A0;than</span><span 
class="cmtt-10">&#x00A0;an</span><span 
class="cmtt-10">&#x00A0;1000</span><span 
class="cmtt-10">&#x00A0;URLs</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;page</span><br /><br /><span 
class="cmtt-10">#define</span><span 
class="cmtt-10">&#x00A0;MAX_URL_PER_PAGE</span><span 
class="cmtt-10">&#x00A0;10000</span><br /><br /></div></div>
<!--l. 397--><p class="noindent" >Now, we define the detailed language dependent data structures.
<div 
class="colorbox" id="colorbox8"><div class="BVerbatimInput"><br /><span 
class="cmtt-10">//(2)</span><span 
class="cmtt-10">&#x00A0;*DATA</span><span 
class="cmtt-10">&#x00A0;STRUCTURES</span><span 
class="cmtt-10">&#x00A0;AND</span><span 
class="cmtt-10">&#x00A0;VARIABLES*</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;DATA</span><span 
class="cmtt-10">&#x00A0;STRUCTURES.</span><span 
class="cmtt-10">&#x00A0;All</span><span 
class="cmtt-10">&#x00A0;these</span><span 
class="cmtt-10">&#x00A0;structures</span><span 
class="cmtt-10">&#x00A0;should</span><span 
class="cmtt-10">&#x00A0;be</span><span 
class="cmtt-10">&#x00A0;malloc</span><span 
class="cmtt-10">&#x00A0;&#8217;d</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;This</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;key</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;structure</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;information</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;each</span><span 
class="cmtt-10">&#x00A0;URL.</span><br /><br /><span 
class="cmtt-10">typedef</span><span 
class="cmtt-10">&#x00A0;struct</span><span 
class="cmtt-10">&#x00A0;_URL{</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;char</span><span 
class="cmtt-10">&#x00A0;url[MAX_URL_LENGTH];</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;e.g.,</span><span 
class="cmtt-10">&#x00A0;www.cs.dartmouth.edu</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;int</span><span 
class="cmtt-10">&#x00A0;depth;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;depth</span><span 
class="cmtt-10">&#x00A0;associated</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;URL.</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;int</span><span 
class="cmtt-10">&#x00A0;visited;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;crawled</span><span 
class="cmtt-10">&#x00A0;or</span><span 
class="cmtt-10">&#x00A0;not,</span><span 
class="cmtt-10">&#x00A0;marked</span><span 
class="cmtt-10">&#x00A0;true(1),</span><span 
class="cmtt-10">&#x00A0;otherwise</span><span 
class="cmtt-10">&#x00A0;false(0)</span><br /><span 
class="cmtt-10">}</span><span 
class="cmtt-10">&#x00A0;__URL;</span><br /><br /><span 
class="cmtt-10">typedef</span><span 
class="cmtt-10">&#x00A0;struct</span><span 
class="cmtt-10">&#x00A0;_URL</span><span 
class="cmtt-10">&#x00A0;URLNODE;</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Dictionary</span><span 
class="cmtt-10">&#x00A0;Node.</span><span 
class="cmtt-10">&#x00A0;This</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;general</span><span 
class="cmtt-10">&#x00A0;double</span><span 
class="cmtt-10">&#x00A0;link</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;structure</span><span 
class="cmtt-10">&#x00A0;that</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;key</span><span 
class="cmtt-10">&#x00A0;(URL</span><span 
class="cmtt-10">&#x00A0;-</span><span 
class="cmtt-10">&#x00A0;we</span><span 
class="cmtt-10">&#x00A0;explained</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;today&#8217;s</span><span 
class="cmtt-10">&#x00A0;lecture</span><span 
class="cmtt-10">&#x00A0;why</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;there)</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;pointer</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;void</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;points</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;URLNODE</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;practice.</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;key</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;same</span><span 
class="cmtt-10">&#x00A0;as</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;recall.</span><br /><br /><span 
class="cmtt-10">typedef</span><span 
class="cmtt-10">&#x00A0;struct</span><span 
class="cmtt-10">&#x00A0;_DNODE</span><span 
class="cmtt-10">&#x00A0;{</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;struct</span><span 
class="cmtt-10">&#x00A0;_DNODE</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*next;</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;struct</span><span 
class="cmtt-10">&#x00A0;_DNODE</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*prev;</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;void</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;*data;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;actual</span><span 
class="cmtt-10">&#x00A0;data</span><span 
class="cmtt-10">&#x00A0;points</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;URLNODE</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;char</span><span 
class="cmtt-10">&#x00A0;key[KEY_LENGTH];</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;actual</span><span 
class="cmtt-10">&#x00A0;(URL)</span><span 
class="cmtt-10">&#x00A0;key</span><br /><span 
class="cmtt-10">}</span><span 
class="cmtt-10">&#x00A0;__DNODE;</span><br /><br /><span 
class="cmtt-10">typedef</span><span 
class="cmtt-10">&#x00A0;struct</span><span 
class="cmtt-10">&#x00A0;_DNODE</span><span 
class="cmtt-10">&#x00A0;DNODE;</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;DICTIONARY</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;hash</span><span 
class="cmtt-10">&#x00A0;table</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;start</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;end</span><span 
class="cmtt-10">&#x00A0;pointers</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;double</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;link</span><span 
class="cmtt-10">&#x00A0;list.</span><span 
class="cmtt-10">&#x00A0;This</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;unordered</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;exception</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;DNODES</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;same</span><span 
class="cmtt-10">&#x00A0;key</span><span 
class="cmtt-10">&#x00A0;(URL)</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;clusters</span><span 
class="cmtt-10">&#x00A0;along</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;list.</span><span 
class="cmtt-10">&#x00A0;So</span><span 
class="cmtt-10">&#x00A0;you</span><span 
class="cmtt-10">&#x00A0;hash</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;list.</span><span 
class="cmtt-10">&#x00A0;Check</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;uniqueness</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URL.</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;If</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;found</span><span 
class="cmtt-10">&#x00A0;add</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;end</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;cluster</span><span 
class="cmtt-10">&#x00A0;associated</span><span 
class="cmtt-10">&#x00A0;wit</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;same</span><span 
class="cmtt-10">&#x00A0;URL.</span><span 
class="cmtt-10">&#x00A0;You</span><span 
class="cmtt-10">&#x00A0;will</span><span 
class="cmtt-10">&#x00A0;have</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;write</span><span 
class="cmtt-10">&#x00A0;an</span><span 
class="cmtt-10">&#x00A0;addElement</span><span 
class="cmtt-10">&#x00A0;function.</span><br /><br /><span 
class="cmtt-10">typedef</span><span 
class="cmtt-10">&#x00A0;struct</span><span 
class="cmtt-10">&#x00A0;_DICTIONARY</span><span 
class="cmtt-10">&#x00A0;{</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;*hash[MAX_HASH_SLOT];</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;hash</span><span 
class="cmtt-10">&#x00A0;table</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;slots,</span><span 
class="cmtt-10">&#x00A0;each</span><span 
class="cmtt-10">&#x00A0;slot</span><span 
class="cmtt-10">&#x00A0;points</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;DNODE</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;*start;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;start</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;double</span><span 
class="cmtt-10">&#x00A0;link</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;DNODES</span><span 
class="cmtt-10">&#x00A0;terminated</span><span 
class="cmtt-10">&#x00A0;by</span><span 
class="cmtt-10">&#x00A0;NULL</span><span 
class="cmtt-10">&#x00A0;pointer</span><br /><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;*end;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;</span><span 
class="cmtt-10">&#x00A0;//</span><span 
class="cmtt-10">&#x00A0;points</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;last</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;on</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;list</span><br /><span 
class="cmtt-10">}</span><span 
class="cmtt-10">&#x00A0;__DICTIONARY;</span><br /><br /><span 
class="cmtt-10">typedef</span><span 
class="cmtt-10">&#x00A0;struct</span><span 
class="cmtt-10">&#x00A0;_DICTIONARY</span><span 
class="cmtt-10">&#x00A0;DICTIONARY;</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;Define</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;dict</span><span 
class="cmtt-10">&#x00A0;structure</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;hash</span><span 
class="cmtt-10">&#x00A0;table</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;and</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;double</span><span 
class="cmtt-10">&#x00A0;linked</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;DNODES.</span><span 
class="cmtt-10">&#x00A0;Each</span><span 
class="cmtt-10">&#x00A0;DNODE</span><span 
class="cmtt-10">&#x00A0;holds</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;pointer</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;URLNODE.</span><span 
class="cmtt-10">&#x00A0;This</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;used</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;store</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;unique</span><span 
class="cmtt-10">&#x00A0;URLs.</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;search</span><span 
class="cmtt-10">&#x00A0;time</span><span 
class="cmtt-10">&#x00A0;for</span><span 
class="cmtt-10">&#x00A0;this</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;O(n).</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;To</span><span 
class="cmtt-10">&#x00A0;speed</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;up</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;O(1)</span><span 
class="cmtt-10">&#x00A0;we</span><span 
class="cmtt-10">&#x00A0;use</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;hash</span><span 
class="cmtt-10">&#x00A0;table.</span><span 
class="cmtt-10">&#x00A0;The</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;hash</span><span 
class="cmtt-10">&#x00A0;table</span><span 
class="cmtt-10">&#x00A0;holds</span><span 
class="cmtt-10">&#x00A0;pointers</span><span 
class="cmtt-10">&#x00A0;into</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;where</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;DNODES</span><span 
class="cmtt-10">&#x00A0;with</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;same</span><span 
class="cmtt-10">&#x00A0;key</span><span 
class="cmtt-10">&#x00A0;are</span><span 
class="cmtt-10">&#x00A0;maintained,</span><span 
class="cmtt-10">&#x00A0;assuming</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;hash(key)</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;NULL</span><span 
class="cmtt-10">&#x00A0;(which</span><span 
class="cmtt-10">&#x00A0;implies</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;has</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;not</span><span 
class="cmtt-10">&#x00A0;been</span><span 
class="cmtt-10">&#x00A0;seen</span><span 
class="cmtt-10">&#x00A0;before).</span><span 
class="cmtt-10">&#x00A0;The</span><span 
class="cmtt-10">&#x00A0;hash</span><span 
class="cmtt-10">&#x00A0;table</span><span 
class="cmtt-10">&#x00A0;provide</span><span 
class="cmtt-10">&#x00A0;quick</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;access</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;point</span><span 
class="cmtt-10">&#x00A0;in</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;relevant</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;search.</span><br /><br /><span 
class="cmtt-10">extern</span><span 
class="cmtt-10">&#x00A0;DICTIONARY</span><span 
class="cmtt-10">&#x00A0;*dict;</span><br /><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;This</span><span 
class="cmtt-10">&#x00A0;is</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;table</span><span 
class="cmtt-10">&#x00A0;that</span><span 
class="cmtt-10">&#x00A0;keeps</span><span 
class="cmtt-10">&#x00A0;pointers</span><span 
class="cmtt-10">&#x00A0;to</span><span 
class="cmtt-10">&#x00A0;a</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;URL</span><span 
class="cmtt-10">&#x00A0;extracted</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;from</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;current</span><span 
class="cmtt-10">&#x00A0;HTML</span><span 
class="cmtt-10">&#x00A0;page.</span><span 
class="cmtt-10">&#x00A0;NULL</span><span 
class="cmtt-10">&#x00A0;pointer</span><span 
class="cmtt-10">&#x00A0;represents</span><span 
class="cmtt-10">&#x00A0;the</span><span 
class="cmtt-10">&#x00A0;end</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;the</span><br /><span 
class="cmtt-10">//</span><span 
class="cmtt-10">&#x00A0;list</span><span 
class="cmtt-10">&#x00A0;of</span><span 
class="cmtt-10">&#x00A0;URLs.</span><br /><br /><span 
class="cmtt-10">char</span><span 
class="cmtt-10">&#x00A0;*url_list[MAX_URL_PER_PAGE];</span><br /><br /></div></div>
<!--l. 469--><p class="noindent" >
<h3 class="likesectionHead"><a 
 id="x1-7000"></a>Source Files for Implementing the Crawler</h3>
<!--l. 471--><p class="noindent" >Here are the following source files give out to assist in the implementation:<br 
class="newline" />
<!--l. 473--><p class="noindent" ><a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/crawler.h" >crawler.h</a>- Implementation Spec is captured in the crawler.h file. It defines the important defines, marcos,
data structures and prototype functions.
<!--l. 475--><p class="noindent" ><a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/crawler.c" >crawler.c</a>- Students add the code starting here. It includes, from the Design Spec (Pseudo code description
of the crawler algorithm), inputs and outputs.
                                                                                  
                                                                                  
<!--l. 477--><p class="noindent" >Other code given out for the Lab4 (to make your life easier) include:<br 
class="newline" />
<!--l. 479--><p class="noindent" ><a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/hash.h" >hash.h</a>- Hash function header file
<!--l. 481--><p class="noindent" ><a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/hash.c" >hash.c</a>- Hash function
<!--l. 483--><p class="noindent" ><a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/html.h" >html.h</a>- HTML parsing code including GetNextURL()
<!--l. 485--><p class="noindent" ><a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/header.h" >header.h</a>- Some useful macros.
<!--l. 487--><p class="noindent" ><a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/html.c" >html.c</a>- GetNextURL()
<!--l. 489--><p class="noindent" >In the tarball sent you there is also a README file which we point to here for completeness.<br 
class="newline" />
<!--l. 491--><p class="noindent" ><a 
href="http://www.cs.dartmouth.edu/~campbell/cs50/README" >README</a>- README
 
</body></html> 

                                                                                  


